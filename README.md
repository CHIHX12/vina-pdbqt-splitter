# ğŸ§¬ PDBQT Splitter â€” Multi-Model `.pdbqt` åˆ†å‰²å·¥å…·

## ğŸ”¬ å·¥å…·ç°¡ä»‹

æœ¬å·¥å…·å¯å°‡ `.pdbqt` çµæœæª”ä¸­åŒ…å«çš„å¤šå€‹ `MODEL` è‡ªå‹•åˆ†å‰²ç‚ºç¨ç«‹æª”æ¡ˆã€‚è©²æ ¼å¼é€šå¸¸ä¾†è‡ªåˆ†å­å°æ¥æµç¨‹ï¼ŒåŒ…å«å¤šå€‹é æ¸¬æ§‹è±¡ï¼ˆä¾‹å¦‚ `MODEL 1` è‡³ `MODEL 9`ï¼‰ã€‚æœ¬å·¥å…·æ”¯æ´å–®ä¸€æª”æ¡ˆè™•ç†ã€æ‰¹æ¬¡è™•ç†èˆ‡å¤šæ ¸å¿ƒå¹³è¡Œè™•ç†ï¼Œå¯æ‡‰ç”¨æ–¼å¤§è¦æ¨¡è™›æ“¬ç¯©é¸å¾Œçš„å¾Œè™•ç†æµç¨‹ã€‚

---

## ğŸ¯ åŠŸèƒ½ç‰¹è‰²

- âœ… è‡ªå‹•è§£æ `.pdbqt` ä¸­çš„ `MODEL` å€æ®µä¸¦åˆ†å‰²
- âœ… æ”¯æ´å–®ä¸€æª”æ¡ˆæˆ–è³‡æ–™å¤¾æ•´æ‰¹è™•ç†
- âœ… å·²è™•ç†æª”æ¡ˆè‡ªå‹•è·³éï¼Œé¿å…é‡è¤‡åŸ·è¡Œ
- âœ… å¤šæ ¸å¿ƒåŠ é€Ÿï¼ˆmultiprocessingï¼‰
- âœ… åˆ†å‰²å¤±æ•—æœƒè‡ªå‹•ç”¢ç”ŸéŒ¯èª¤æ—¥èªŒ

---

## ğŸ“¦ æª”æ¡ˆçµ„æˆ

```text
split_main.c                 # åˆ†å‰²ä¸»é‚è¼¯ (C)
split_pdbqt.c                # è§£æ .pdbqt æª”æ¡ˆå…§å®¹
split_runner                 # ç·¨è­¯å¾ŒåŸ·è¡Œæª” (C â†’ binary)
split_all.py                # å›ºå®šè·¯å¾‘å–®æ ¸ç‰ˆæœ¬
split_all_not_path.py       # CLI åƒæ•¸ç‰ˆæœ¬ï¼ˆå¯è‡ªè¨‚è·¯å¾‘ï¼‰
split_all_multiproc.py      # å›ºå®šè·¯å¾‘å¤šæ ¸å¿ƒç‰ˆæœ¬
```

---

## âš™ï¸ å®‰è£èˆ‡ç·¨è­¯

è«‹ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ç·¨è­¯åˆ†å‰²ç¨‹å¼ï¼š

```bash
gcc -O3 -o split_runner split_pdbqt.c split_main.c
```

æˆåŠŸå¾Œæœƒç”¢ç”Ÿ `split_runner` å¯åŸ·è¡Œæª”ã€‚

---

## ğŸš€ ä½¿ç”¨æ•™å­¸

### ğŸ§ª å–®ä¸€ `.pdbqt` åˆ†å‰²

```bash
./split_runner input.pdbqt ./output_folder/
```

---

### ğŸ“ æ‰¹æ¬¡è™•ç†æ–¹å¼

| è…³æœ¬åç¨±                  | åŠŸèƒ½èªªæ˜                            | å¯è‡ªè¨‚è·¯å¾‘ | æ”¯æ´å¤šæ ¸å¿ƒ |
|---------------------------|-------------------------------------|------------|------------|
| `split_all_not_path.py`   | æŒ‡å®šè¼¸å…¥èˆ‡è¼¸å‡ºè³‡æ–™å¤¾               | âœ… æ˜¯      | âŒ å¦       |
| `split_all.py`            | å›ºå®šè·¯å¾‘è™•ç†ï¼ˆç›´æ¥åŸ·è¡Œï¼‰           | âŒ å¦      | âŒ å¦       |
| `split_all_multiproc.py`  | å›ºå®šè·¯å¾‘ + å¤šæ ¸å¿ƒåŠ é€Ÿ               | âŒ å¦      | âœ… æ˜¯       |

---

### ğŸ§© è‡ªè¨‚è·¯å¾‘ç¯„ä¾‹ï¼ˆæ¨è–¦ï¼‰

```bash
python3 split_all_not_path.py \
  --input_folder ./vina_outputs \
  --output_folder ./vina_outputs_split \
  --runner_path ./split_runner
```

---

### âš¡ å›ºå®šè·¯å¾‘å¤šæ ¸å¿ƒè™•ç†ï¼ˆå¯åœ¨è…³æœ¬å…§æ”¹è¼¸å…¥è·¯å¾‘ï¼‰

```bash
python3 split_all_multiproc.py
```

---

## ğŸ“‚ è¼¸å‡ºçµæœèªªæ˜

æ¯å€‹å¤šæ§‹è±¡ `.pdbqt` æª”æ¡ˆï¼ˆå¦‚ `lig1_out.pdbqt`ï¼‰å°‡æœƒè¢«åˆ†å‰²ç‚ºï¼š

```
lig1_out_1.pdbqt
lig1_out_2.pdbqt
...
lig1_out_N.pdbqt
```

å¤±æ•—æª”æ¡ˆå°‡è¨˜éŒ„æ–¼ï¼š

```
split_outputs/split_error.log
```

---

## ğŸ§¼ `.gitignore` å»ºè­°

```gitignore
split_runner
__pycache__/
*.log
```

---

## ğŸ“œ æˆæ¬Š License

æœ¬å°ˆæ¡ˆä½¿ç”¨ MIT Licenseï¼Œè©³è¦‹ [LICENSE](./LICENSE)ã€‚

---

## ğŸ‘¨â€ğŸ’» ä½œè€…èªªæ˜

æœ¬å·¥å…·ç”±ç ”ç©¶è€…é–‹ç™¼ï¼Œå°ˆç‚ºå¤§è¦æ¨¡åˆ†å­å°æ¥å¾Œè™•ç†æµç¨‹è¨­è¨ˆï¼Œæ”¯æ´é«˜æ•ˆä¸”ç©©å®šçš„ `.pdbqt` å¤šæ§‹è±¡æª”åˆ†å‰²ã€‚æ­¡è¿æå‡ºå»ºè­°èˆ‡è²¢ç»æ”¹é€²ã€‚
